<section class="dashboard-content">
  <div class="management-header">
    <h2>Add New Vice Dean</h2>
  </div>
  <form [formGroup]="viceDeanForm" (ngSubmit)="saveViceDean()">
    <div class="tabs">
      <div class="tab-headers">
        <button type="button" class="tab-header" [class.active]="activeTab === 'basic'" (click)="activeTab = 'basic'">
          <i class="pi pi-info-circle"></i> Basic Info
        </button>
        <button type="button" class="tab-header" [class.active]="activeTab === 'message'" (click)="activeTab = 'message'">
          <i class="pi pi-book"></i> Message
        </button>
      </div>
      <div class="tab-content" [class.active]="activeTab === 'basic'">
        <div class="form-grid">
          <div class="form-group">
            <label>Name *</label>
            <input 
              type="text" 
              class="form-control" 
              formControlName="name"
              placeholder="Enter name"
            >
          </div>
          <div class="form-group">
            <label>Position *</label>
            <input 
              type="text" 
              class="form-control" 
              formControlName="position"
              placeholder="Enter position"
            >
          </div>
          <div class="form-group">
            <label>Image URL</label>
            <input 
              type="url" 
              class="form-control" 
              formControlName="image"
              placeholder="Enter image URL"
            >
          </div>
          <div class="form-group">
            <label>Sector *</label>
            <input 
              type="text" 
              class="form-control" 
              formControlName="sector"
              placeholder="Enter sector"
            >
          </div>
          <div class="form-group">
            <label>Email *</label>
            <input 
              type="email" 
              class="form-control" 
              formControlName="email"
              placeholder="Enter email"
            >
          </div>
          <div class="form-group">
            <label>Office</label>
            <input 
              type="text" 
              class="form-control" 
              formControlName="office"
              placeholder="Enter office"
            >
          </div>
        </div>
      </div>

      <div class="tab-content" [class.active]="activeTab === 'message'">
        <div class="academic-section">
          <div class="section-header">
            <h4>Message</h4>
            <button 
              type="button"
              class="btn-add-item"
              (click)="addMessage()"
            >
              <i class="pi pi-plus"></i>
              Add Message Paragraph
            </button>
          </div>
          <div formArrayName="message">
            <div 
              *ngFor="let msg of messageArray.controls; let i = index"
              class="experience-item"
            >
              <div class="item-header">
                <h5>Paragraph {{ i + 1 }}</h5>
                <button 
                  type="button"
                  class="btn-remove"
                  (click)="removeMessage(i)"
                >
                  <i class="pi pi-trash"></i>
                </button>
              </div>
              <div class="form-grid">
                <div class="form-group full-width">
                  <label>Paragraph Text</label>
                  <textarea 
                    class="form-control" 
                    [formControlName]="i"
                    rows="4"
                    placeholder="Enter message paragraph"
                  ></textarea>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="dialog-actions">
        <button 
          type="button"
          class="btn-outline-primary-custom"
          [routerLink]="['/dashboard/about/vice-deans']"
        >
          Cancel
        </button>
        <button 
          type="submit"
          class="btn-primary-custom"
          [disabled]="viceDeanForm.invalid"
        >
          Create Vice Dean
        </button>
      </div>
    </div>
  </form>
</section>

<!-- Toast Messages -->
<div class="toast-container" *ngIf="showToast">
  <div class="toast" [class]="toastClass">
    <div class="toast-content">
      <i [class]="toastIcon"></i>
      <span>{{ toastMessage }}</span>
    </div>
    <button type="button" class="toast-close" (click)="hideToast()">Ã—</button>
  </div>
</div>