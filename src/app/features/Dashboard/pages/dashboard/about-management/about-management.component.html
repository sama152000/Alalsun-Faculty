<div class="staff-management">
  <div class="management-header">
    <h2>About Management</h2>
  </div>

  <div class="tabs">
    <div class="tab-headers">
      <button type="button" class="tab-header" [class.active]="activeTab === 'dean'" (click)="activeTab = 'dean'">
        <i class="pi pi-user"></i> Dean Info
      </button>
      <button type="button" class="tab-header" [class.active]="activeTab === 'viceDeans'" (click)="activeTab = 'viceDeans'">
        <i class="pi pi-users"></i> Vice Deans
      </button>
      <button type="button" class="tab-header" [class.active]="activeTab === 'history'" (click)="activeTab = 'history'">
        <i class="pi pi-history"></i> History Events
      </button>
      <button type="button" class="tab-header" [class.active]="activeTab === 'visionMission'" (click)="activeTab = 'visionMission'">
        <i class="pi pi-eye"></i> Vision & Mission
      </button>
    </div>

    <!-- Dean Info Tab -->
    <div class="tab-content" [class.active]="activeTab === 'dean'">
      <div class="management-header">
        <h3>Dean Information</h3>
        <button class="btn-primary-custom" [routerLink]="['/dashboard/about/dean/add']">
          <i class="pi pi-plus"></i> Add New Dean
        </button>
      </div>
      <div class="staff-list">
        <div class="staff-card" *ngIf="dean">
          <div class="staff-info">
            <img [src]="dean.photo" [alt]="dean.name" class="staff-image">
            <div class="staff-details">
              <h3>{{ dean.name }}</h3>
              <p class="staff-position">{{ dean.position }}</p>
              <div class="staff-meta">
                <span class="meta-item">
                  <i class="pi pi-comment"></i>
                  {{ dean.greeting | slice:0:50 }}...
                </span>
                <span class="meta-item">
                  <i class="pi pi-star"></i>
                  {{ dean.highlight | slice:0:50 }}...
                </span>
              </div>
            </div>
          </div>
          <div class="staff-actions">
            <button class="btn-edit" [routerLink]="['/dashboard/about/dean/edit']">
              <i class="pi pi-pencil"></i> Edit
            </button>
          </div>
        </div>
        <div *ngIf="!dean" class="no-data">
          <p>No Dean Information Available</p>
        </div>
      </div>
    </div>

    <!-- Vice Deans Tab -->
    <div class="tab-content" [class.active]="activeTab === 'viceDeans'">
      <div class="management-header">
        <h3>Vice Deans</h3>
        <button class="btn-primary-custom" [routerLink]="['/dashboard/about/vice-deans/add']">
          <i class="pi pi-plus"></i> Add New Vice Dean
        </button>
      </div>
      <div class="staff-list">
        <div class="staff-card" *ngFor="let viceDean of viceDeans">
          <div class="staff-info">
            <img [src]="viceDean.image" [alt]="viceDean.name" class="staff-image">
            <div class="staff-details">
              <h3>{{ viceDean.name }}</h3>
              <p class="staff-position">{{ viceDean.position }}</p>
              <p class="staff-department">{{ viceDean.sector }}</p>
              <div class="staff-meta">
                <span class="meta-item">
                  <i class="pi pi-envelope"></i>
                  {{ viceDean.email }}
                </span>
                <span class="meta-item">
                  <i class="pi pi-building"></i>
                  {{ viceDean.office }}
                </span>
              </div>
            </div>
          </div>
          <div class="staff-actions">
            <button class="btn-edit" [routerLink]="['/dashboard/about/vice-deans/edit', viceDean.id]">
              <i class="pi pi-pencil"></i> Edit
            </button>
            <button class="btn-delete" (click)="confirmDelete(viceDean.id, 'viceDean')">
              <i class="pi pi-trash"></i> Delete
            </button>
          </div>
        </div>
        <div *ngIf="viceDeans.length === 0" class="no-data">
          <p>No Vice Deans Available</p>
        </div>
      </div>
    </div>

    <!-- History Events Tab -->
    <div class="tab-content" [class.active]="activeTab === 'history'">
      <div class="management-header">
        <h3>History Events</h3>
        <button class="btn-primary-custom" [routerLink]="['/dashboard/about/history/add']">
          <i class="pi pi-plus"></i> Add New Event
        </button>
      </div>
      <div class="staff-list">
        <div class="staff-card" *ngFor="let event of historyEvents">
          <div class="staff-info">
            <img [src]="event.icon" [alt]="event.title" class="staff-image">
            <div class="staff-details">
              <h3>{{ event.title }}</h3>
              <p class="staff-position">{{ event.year }}</p>
              <p class="staff-department">{{ event.description | slice:0:50 }}...</p>
            </div>
          </div>
          <div class="staff-actions">
            <button class="btn-edit" [routerLink]="['/dashboard/about/history/edit', event.id]">
              <i class="pi pi-pencil"></i> Edit
            </button>
            <button class="btn-delete" (click)="confirmDelete(event.id, 'historyEvent')">
              <i class="pi pi-trash"></i> Delete
            </button>
          </div>
        </div>
        <div *ngIf="historyEvents.length === 0" class="no-data">
          <p>No History Events Available</p>
        </div>
      </div>
    </div>

    <!-- Vision & Mission Tab -->
    <div class="tab-content" [class.active]="activeTab === 'visionMission'">
      <div class="management-header">
        <h3>Vision & Mission</h3>
        <button class="btn-primary-custom" [routerLink]="['/dashboard/about/vision-mission/add']">
          <i class="pi pi-plus"></i> Add New Vision/Mission
        </button>
      </div>
      <div class="staff-list">
        <div class="staff-card" *ngFor="let vm of visionMissions">
          <div class="staff-info">
            <img [src]="vm.icon" [alt]="vm.title" class="staff-image">
            <div class="staff-details">
              <h3>{{ vm.title }}</h3>
              <p class="staff-department">{{ vm.content | slice:0:50 }}...</p>
            </div>
          </div>
          <div class="staff-actions">
            <button class="btn-edit" [routerLink]="['/dashboard/about/vision-mission/edit', vm.id]">
              <i class="pi pi-pencil"></i> Edit
            </button>
            <button class="btn-delete" (click)="confirmDelete(vm.id, 'visionMission')">
              <i class="pi pi-trash"></i> Delete
            </button>
          </div>
        </div>
        <div *ngIf="visionMissions.length === 0" class="no-data">
          <p>No Vision/Mission Available</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Confirmation Dialog -->
  <div class="dialog-overlay" *ngIf="showConfirmDialog" [class.show]="showConfirmDialog">
    <div class="dialog confirmation-dialog">
      <div class="dialog-header">
        <h3>Confirm Delete</h3>
        <button type="button" class="close-button" (click)="closeConfirmDialog()">×</button>
      </div>
      <div class="dialog-content">
        <p>Are you sure you want to delete this {{ deleteType === 'viceDean' ? 'vice dean' : deleteType === 'historyEvent' ? 'history event' : 'vision/mission' }}?</p>
      </div>
      <div class="dialog-actions">
        <button type="button" class="btn-outline-primary-custom" (click)="closeConfirmDialog()">
          Cancel
        </button>
        <button type="button" class="btn-primary-custom" (click)="deleteItem()">
          Delete
        </button>
      </div>
    </div>
  </div>

  <!-- Toast Messages -->
  <div class="toast-container" *ngIf="showToast">
    <div class="toast" [class]="toastClass">
      <div class="toast-content">
        <i [class]="toastIcon"></i>
        <span>{{ toastMessage }}</span>
      </div>
      <button type="button" class="toast-close" (click)="hideToast()">×</button>
    </div>
  </div>
</div>