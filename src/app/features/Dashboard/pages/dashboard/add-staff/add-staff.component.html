
  <section class="dashboard-content">
    <div class="management-header">
      <h2>Add New Staff</h2>
    </div>
    <form [formGroup]="staffForm" (ngSubmit)="saveStaff()">
      <div class="tabs">
        <div class="tab-headers">
          <button type="button" class="tab-header" [class.active]="activeTab === 'basic'" (click)="activeTab = 'basic'">
            <i class="pi pi-info-circle"></i> Basic Info
          </button>
          <button type="button" class="tab-header" [class.active]="activeTab === 'contact'" (click)="activeTab = 'contact'">
            <i class="pi pi-phone"></i> Contact Info
          </button>
          <button type="button" class="tab-header" [class.active]="activeTab === 'profile'" (click)="activeTab = 'profile'">
            <i class="pi pi-user"></i> Profile
          </button>
          <button type="button" class="tab-header" [class.active]="activeTab === 'academic'" (click)="activeTab = 'academic'">
            <i class="pi pi-book"></i> Academic Background
          </button>
          <button type="button" class="tab-header" [class.active]="activeTab === 'research'" (click)="activeTab = 'research'">
            <i class="pi pi-file"></i> Research & Publications
          </button>
        </div>
        <div class="tab-content" [class.active]="activeTab === 'basic'">
          <div class="form-grid">
            <div class="form-group">
              <label>Name *</label>
              <input 
                type="text" 
                class="form-control" 
                formControlName="name"
                placeholder="Enter staff name"
              >
            </div>
            <div class="form-group">
              <label>Position *</label>
              <input 
                type="text" 
                class="form-control" 
                formControlName="position"
                placeholder="Enter position"
              >
            </div>
            <div class="form-group">
              <label>Department *</label>
              <select formControlName="department" class="form-control">
                <option value="">Select department</option>
                <option *ngFor="let dept of departments" [value]="dept.name">
                  {{ dept.name }}
                </option>
              </select>
            </div>
            <div class="form-group">
              <label>Image URL</label>
              <input 
                type="url" 
                class="form-control" 
                formControlName="image"
                placeholder="Enter image URL"
              >
            </div>
          </div>
        </div>

        <div class="tab-content" [class.active]="activeTab === 'contact'">
          <div class="contact-section">
            <div class="form-grid">
              <div class="form-group">
                <label>Email *</label>
                <input 
                  type="email" 
                  class="form-control" 
                  formControlName="email"
                  placeholder="Enter email"
                >
              </div>
              <div class="form-group">
                <label>Phone</label>
                <input 
                  type="tel" 
                  class="form-control" 
                  formControlName="phone"
                  placeholder="Enter phone number"
                >
              </div>
            </div>
          </div>
        </div>

        <div class="tab-content" [class.active]="activeTab === 'profile'">
          <div class="profile-section">
            <div class="form-grid">
              <div class="form-group full-width">
                <label>Bio</label>
                <textarea 
                  class="form-control" 
                  formControlName="bio"
                  rows="4"
                  placeholder="Enter bio"
                ></textarea>
              </div>
              <div class="form-group">
                <label>Specialization</label>
                <input 
                  type="text" 
                  class="form-control" 
                  formControlName="specialization"
                  placeholder="Enter specialization"
                >
              </div>
            </div>
          </div>
        </div>

        <div class="tab-content" [class.active]="activeTab === 'academic'">
          <div class="academic-section">
            <div class="section-header">
              <h4>Education</h4>
              <button 
                type="button"
                class="btn-add-item"
                (click)="addEducation()"
              >
                <i class="pi pi-plus"></i>
                Add Education
              </button>
            </div>
            <div formArrayName="education">
              <div 
                *ngFor="let education of educationArray.controls; let i = index"
                [formGroupName]="i"
                class="education-item"
              >
                <div class="item-header">
                  <h5>Education {{ i + 1 }}</h5>
                  <button 
                    type="button"
                    class="btn-remove"
                    (click)="removeEducation(i)"
                  >
                    <i class="pi pi-trash"></i>
                  </button>
                </div>
                <div class="form-grid">
                  <div class="form-group full-width">
                    <label>Degree</label>
                    <input 
                      type="text" 
                      class="form-control" 
                      formControlName="degree"
                      placeholder="Enter degree"
                    >
                  </div>
                </div>
              </div>
            </div>

            <div class="section-header">
              <h4>Experience</h4>
              <button 
                type="button"
                class="btn-add-item"
                (click)="addExperience()"
              >
                <i class="pi pi-plus"></i>
                Add Experience
              </button>
            </div>
            <div formArrayName="experience">
              <div 
                *ngFor="let experience of experienceArray.controls; let i = index"
                [formGroupName]="i"
                class="experience-item"
              >
                <div class="item-header">
                  <h5>Experience {{ i + 1 }}</h5>
                  <button 
                    type="button"
                    class="btn-remove"
                    (click)="removeExperience(i)"
                  >
                    <i class="pi pi-trash"></i>
                  </button>
                </div>
                <div class="form-grid">
                  <div class="form-group full-width">
                    <label>Experience</label>
                    <input 
                      type="text" 
                      class="form-control" 
                      formControlName="role"
                      placeholder="Enter experience"
                    >
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="tab-content" [class.active]="activeTab === 'research'">
          <div class="research-section">
            <div class="section-header">
              <h4>Research Interests</h4>
              <button 
                type="button"
                class="btn-add-item"
                (click)="addResearchInterest()"
              >
                <i class="pi pi-plus"></i>
                Add Research Interest
              </button>
            </div>
            <div formArrayName="researchInterests">
              <div 
                *ngFor="let interest of researchInterestsArray.controls; let i = index"
                [formGroupName]="i"
                class="research-item"
              >
                <div class="item-header">
                  <h5>Research Interest {{ i + 1 }}</h5>
                  <button 
                    type="button"
                    class="btn-remove"
                    (click)="removeResearchInterest(i)"
                  >
                    <i class="pi pi-trash"></i>
                  </button>
                </div>
                <div class="form-grid">
                  <div class="form-group full-width">
                    <label>Interest</label>
                    <input 
                      type="text" 
                      class="form-control" 
                      formControlName="interest"
                      placeholder="Enter research interest"
                    >
                  </div>
                </div>
              </div>
            </div>

            <div class="section-header">
              <h4>Publications</h4>
              <button 
                type="button"
                class="btn-add-item"
                (click)="addPublication()"
              >
                <i class="pi pi-plus"></i>
                Add Publication
              </button>
            </div>
            <div formArrayName="publications">
              <div 
                *ngFor="let publication of publicationsArray.controls; let i = index"
                [formGroupName]="i"
                class="publication-item"
              >
                <div class="item-header">
                  <h5>Publication {{ i + 1 }}</h5>
                  <button 
                    type="button"
                    class="btn-remove"
                    (click)="removePublication(i)"
                  >
                    <i class="pi pi-trash"></i>
                  </button>
                </div>
                <div class="form-grid">
                  <div class="form-group full-width">
                    <label>Publication</label>
                    <input 
                      type="text" 
                      class="form-control" 
                      formControlName="title"
                      placeholder="Enter publication title"
                    >
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="dialog-actions">
          <button 
            type="button"
            class="btn-outline-primary-custom"
            [routerLink]="['/dashboard/staff']"
          >
            Cancel
          </button>
          <button 
            type="submit"
            class="btn-primary-custom"
            [disabled]="staffForm.invalid"
          >
            Create Staff
          </button>
        </div>
      </div>
    </form>
  </section>

<!-- Toast Messages -->
<div class="toast-container" *ngIf="showToast">
  <div class="toast" [class]="toastClass">
    <div class="toast-content">
      <i [class]="toastIcon"></i>
      <span>{{ toastMessage }}</span>
    </div>
    <button type="button" class="toast-close" (click)="hideToast()">×</button>
  </div>
</div>